
<div class="card">
  <div class="card-header">
    <h6 class="lead text-center pt-2">SQL Exercise <%= @exercise.id %></h6>
  </div>
  <div class="row card-body m-4">
    <code class="pb-2 text-secondary"><%= @exercise.description %></code>

    <%= form_with model: @exercise, data: { controller: "form-validation" } do |form| %>
      <%= form.hidden_field :exercise_id, value: @exercise.id %>

      <div class="sql-editor">
        <div class="editor-wrapper">
          <div class="line-numbers">
            <!-- Fixed line numbers from 1 to 8 -->
            <% (1..8).each do |n| %>
              <span><%= n %></span>
            <% end %>
          </div>
          <%= form.text_area :user_answer, class: "code overflow-hidden", rows: 8, data: { target: "form-validation.textarea", action: "form-validation#limit" } %>
        </div>
      </div>
      <div class="d-flex">
        <div class="mt-3 mr-2">
          <%= form.button 'Submit', class: 'btn btn-light text-secondary border', data: { action: "form-validation#validate", exercise_id: @exercise.id } %>
        </div>
        <div class="ms-auto mt-2 px-2">
          <code id="form-validation"></code>
        </div>
      </div>
    <% end %>
  </div>
</div>
